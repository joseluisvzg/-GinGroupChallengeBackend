# Gin Group Challenge
This folder repository contains code asked on the challenge.

## Requirements

- NodeJS >= 12.13.1
- NPM >= 6.12.1
- MongoDB >= 3.1

## Setup

In order to install the project dependencies, execute the following command:

```
$ npm install
```

Configure MongoDB url (within config.js file):

```
module.exports = {
    mongo_server: 'mongodb://localhost:27018/gin_group_db'
}
```

## Seed data
In order to seed backend with data, you can run the following command:

```
$ npm run seed_data
```

## Start server

In order start the project, execute the following command:

```
$ npm run start
```

## Rest Services
List of services served by REST API.

### POST /api/auth
- This service generates a new JWT token (authentication service).
- The remaining services requires 'token' header using token generated by this service.

#### Example input
```
{
	"email": "test@test.com",
	"password": "123"
}
```

#### Example Output
```
{
	"status": "ok",
	"data": "token"
}
```

### POST /api/persons
- This service creates a new person object

#### Example input
```
{
	"name": "Luis",
	"years_old": 26,
	"sex": "male",
	"hobby": "programming",
	"password": "123",
	"email": "example@example.com"
}
```

#### Example Output
```
{
  "status": "ok",
  "data": {
    "_id": "5f84c29ffac8c0394ee97e70",
    "name": "Luis",
    "years_old": 26,
    "sex": "male",
    "hobby": "programming",
    "email": "example@example.com",
    "creation_date": "2020-10-12T20:54:55.702Z",
  }
}
```

### GET /api/persons
- This service list resources (persons) registered on the backend (MongoDB).
- You can filter results by name & hobby (using query parameters).

#### Example Output
```
{
  "status": "ok",
  "data": [
    {
        "_id": "5f84c29ffac8c0394ee97e70",
        "name": "Luis",
        "years_old": 26,
        "sex": "male",
        "hobby": "programming",
        "email": "example@example.com",
        "creation_date": "2020-10-12T20:54:55.702Z",
    },
    ...
  ]
}
```

### GET /api/persons/filter
- This service list all resources (persons) matching the following criteria:
    - years_old >= 18
    - sex == 'male'
    - creation_date >= (today - 3 days)

#### Example Output
```
{
  "status": "ok",
  "data": [
    {
        "_id": "5f84c29ffac8c0394ee97e70",
        "name": "Luis",
        "years_old": 26,
        "sex": "male",
        "hobby": "programming",
        "email": "example@example.com",
        "creation_date": "2020-10-12T20:54:55.702Z",
    },
    ...
  ]
}
```

###Â DELETE /api/persons/:id
- This service allow to remove a resource using their id.

